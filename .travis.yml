dist: trusty
sudo: false
language: java
jdk:
- oraclejdk8
branches:
  except:
  - "/\\+travis\\d+$/"
env:
  global:
  - secure: kkKucypDfhChx/a33w9QfL9aMN2Q3lLfEnDk4NVzWy3MMnWyIOcOAoT3K4QLe+e08AyBn97sMgWo3gDXTv+21hp7VzG3aOACAL1udYUtRg2ak3UgF6+XESUnQUWfqbM+TZUbiIEwDO/Ir0vVtU8kb6fgAvM86KHLZvxXVs2+E+L2rjqbNGv895WNtBHbiDXDCUAVL3lEgoCohFjzj2Gtp0kORGxPVpTGjZ6Eryy4Eu5qhZGUsh0McrL3B8DfWOkUnHHPCkhvcS2Y3LE5LyEgZLQrK/KjJaGBF4hsAwvA4RS3FSTNl/5eJfUOtZyWw929/OeeAAH9aK7CTNxapaha5eiHjLT8nI9npE7RMRY7gWQm0jebqtw0GlwSG4PCum8Vh+nQSE1HpQB+8rQKIOJwcBUqlGgjzOG4MDALc26L85niocb2TpHRgUCtRQ0sJkZEQ0XMvBnfFecejuC4clnbKCZUdvJhklcRBQS4WQG6l2OLeIfPd7iQ0YYytSDBloGvFRSKBL5/U/V+5RWKm4raVtYMJpv1hw7ORelWI/iqzdBDarpcYYxbxKBiaX7h4LS+ONtljgrvmG+d75BC+HzvOJUucy2ygKNhQYs5yTZlmJvbqHHLF0eZMXsVZ0fYghk9lHbPcZLgK8rkVwU6by0tqywA9G8ssZi32RTWWrCu/V4=
  - secure: P8OGnAG0LWvCoFxAJyd2YMImGQjZ1PxOxNKYKmdIvczVKotEShql/Q0JFRpdm1WuBgy14jO0eK+bJarKN/QCjJu1Q67GqZBatx7bTMKhvQiVWlHw3fXImRZ+XYEFIO3q52XjqiIt6Hc+QZtNlF5Z+Tjgedw1jt1e+zDDVvpc8JI9vdFvBewGV6dqqH8o33fD/MrPyPi6WtOhts6I6xfNoQXr/Rr1u2J1PFdzacMovOR87hT6cEs5pOSbeTJt5vLE0NdBOZ7mI+mr0d+qaXSYB02pBYeQ/8DDDDPGIkqQithuzpnk21QVcklXU+2nuiF0dEnLS3lY5vmZvz9DeorrqqqNbWNnrQcF7BfVNQrKC6vFdqkp57DmWnqMlB7JB0n0VeUogXGm1Ku6lTjtopW7+fEaCOf6iTOTay96mvP4dDplmMpNp8Na0g/l75o6peQuZoPk7OgFZqCYO7pkbqxob8fdcwfk/5eIN6gIr3TH5TkrWt2T1pHJpwC38sRb7LgRzEOWN08FLZb7gUwKVqztPFt+fSKIVO2/0TUvGsO/aMqtnfHbi4ySLhOt2JwtyjL6sTjv4Uf3CkL/2TjM3JzM+JH6NLCd8arfEUAg20oOsPHvs/woyShQD6pIJ2mBNNgVd+sirzGc+XVkNHqlrhmBHJstrJ4mUWULtMstYQnQevA=
  - secure: kdAzR32UNlyTaK7fSh7Z8hAlXSffWlr1LcZUTBNRTE9Imys88xdCRxaEDvTJX1eTeZeLE4V6SOtBHjiEKS8baSwZl9CdtwcU6iAtufDESQANBnIWMWk0tAqLRIof4IMOrPJSyp3opox4bvPzyn7RJYo8jLph4UlJHn23HWql5S62ExUTxghVFRVWWyk3zbJyNxtg1gkt5/tDU7dmElYN9CjmM+6jJTiUXw+uOK9NiUfoRPj7uBPFuTT0rYEJenUyYmGEbrvbkIX3EW93nqVFx4Y46CZ10Tdiul/H/CG3k3fwIvs07LFP0gg8+Jv2HXjfgQih+tSnw+pcayje3FMtgkIxqt5eoxxKYrPzmrk8oJhGu+yGc2lINxALxKBhY+EAm9r93hqd6Y5NUfP0uI4vfm5sd5gHWBPr+1Wbx+Ha/g3BxoVk/cmxxN05DZcb3E8NvuW3oXfJULVfIU49vbFPLK6/IELK3MjTQ6wkSiCPJV+cWyM0i5Sm4RkRmSjVxwOLTglWYdyYUkf7tixl2B6j/wkwhKVPb7Zzlt8Zs1ieWYXY6ytmfrrU/2qdplNuLxAJ/T1J3NJpdkvDZ3pRwLsSULotkJ8qSu0YhbylqHPf5xBwdL5QXDsgux5SClL7OFixhbJdCPx7E0oQ42t5epabcBPnbYrYRIY6s7YjRaXNQ7s=
  - MAVEN_BASE_URL=https://atomist.jfrog.io/atomist
install: true
script: bash src/main/scripts/travis-build.bash
notifications:
  email: false
  webhooks:
    urls:
    - https://webhook.atomist.com/travis
    on_success: always
    on_failure: always
    on_start: always
    on_cancel: always
    on_error: always
cache:
  directories:
  - "$HOME/.m2"
  - "$HOME/.npm"
deploy:
  provider: releases
  api_key:
  on:
    tags: true
    condition: "$TRAVIS_TAG =~ ^[0-9]+\\.[0-9]+\\.[0-9]+$"
